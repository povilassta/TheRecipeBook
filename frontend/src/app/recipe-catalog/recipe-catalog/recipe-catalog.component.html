<div class="catalog">
  <div class="catalog__filtering">
    <div class="catalog__filtering__row">
      <h1 class="title">Lunch Recipes</h1>
      <mat-form-field appearance="outline" class="sort-field">
        <mat-label>Sort by</mat-label>
        <mat-select
          [(value)]="filterObj.sort"
          (selectionChange)="updateRecipes()"
        >
          <mat-option value="recent">Most recent</mat-option>
          <mat-option value="oldest">Oldest</mat-option>
          <mat-option value="popular">Popularity</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="catalog__filtering__row">
      <mat-form-field appearance="outline" class="long-field">
        <mat-label>Search</mat-label>
        <input matInput placeholder="type to search..." />
        <button matSuffix mat-icon-button aria-label="Search">
          <mat-icon>search</mat-icon>
        </button>
      </mat-form-field>
      <mat-form-field appearance="outline" class="long-field">
        <mat-label>Categories</mat-label>
        <mat-select
          [(value)]="filterObj.categories"
          (selectionChange)="updateRecipes()"
          multiple
        >
          <mat-option
            *ngFor="let category of categories; let i = index"
            value="{{ category._id }}"
            >{{ category.name | titlecase }}</mat-option
          >
        </mat-select>
      </mat-form-field>
    </div>
    <div class="catalog__filtering__slider">
      <p class="catalog__filtering__slider__text">
        Cooking time:
        <span class="text-regular">&lt; {{ filterObj.time }} minutes</span>
      </p>
      <mat-slider
        class="slider"
        max="200"
        min="0"
        thumbLabel="true"
        [(ngModel)]="filterObj.time"
        value="60"
        (change)="updateRecipes()"
      ></mat-slider>
    </div>
  </div>
  <div class="catalog__items">
    <app-recipe-card
      *ngFor="let recipe of recipes; let i = index"
      [recipe]="recipe"
    ></app-recipe-card>
  </div>
  <app-paginator
    [perPageCount]="20"
    [currentPage]="page"
    [itemCount]="count"
  ></app-paginator>
</div>
